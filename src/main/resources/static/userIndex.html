<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/userIndex.css">
  <link rel="stylesheet" href="css/multiplex.css">
  <script src="lib/vue-2.4.0.js"></script>
  <script src="lib/axios.js"></script>
</head>

<body>
  <div class="main-title">
    欢迎使用汽车安全问题审计软件
  </div>
  <div id="app">
      <div class="welcome">
          欢迎您, <span>{{userName}}</span>
          <button class="repassword" @click="flag=!flag">修改密码</button>
          <button class="exit" @click="exit">退出</button>
      </div>
      <div class="pass-box" v-show="flag">
          之前密码:<br>
          <input type="password" v-model="oldValue">
          新密码:<br>
          <input type="password" v-model="newValue">
          确认新密码:<br>
          <input type="password" v-model="newValue2">
          <button class="flag" @click.prevent="flag=!flag">x</button>
          <input type="button" value="提交" @click="repass">
      </div>
    <!-- 左侧导航栏 -->
    <div class="left" ref='left'>
      <!-- 拆分成组件 -->
        <a href="#" @click.prevent='compName="upload"' class="uploadFile">文件上传</a>
        <a href="#" @click.prevent='compName="submitRecodes"' >提交记录</a>
    </div>
    <div class="right" ref='right'>
      <div class="right-main">
        <!-- 主体页面  拆分成组件  分别为文件提交  提交记录以及  查看信息页面 -->
        <!-- 这个就是点击哪一个 就跳转到哪一个 -->
          <component :is="compName" :submits="submits"></component>
      </div>
    </div>
  </div>
  <!-- 组件声明 -->
  <!-- 文件上传组件 -->
  <template id='upload'>
    <div class='upload'>
      <h2>请选择你要上传的文件</h2>
        <form action="">
            <input type="file" name='myfiles' @change="upload($event)">
            <input type="submit" value='上传' @click.prevent='submit($event)'>
        </form>
    </div>
  </template>
  <template id='submitRecodes'>
          <div style='width:100%; height:520px; overflow-y:auto;'>
              <table border="1" cellspacing='0' align="center">
                  <thead>
                  <tr>
                      <th>序号</th>
                      <th>编号</th>
                      <th>姓名</th>
                      <th>提交时间</th>
                      <th>查看详情</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr v-for = '(item,index) in submits'>
                      <td align="center">{{index+1}}</td>
                      <td align="center">{{item.number}}</td>
                      <td align="center">{{item.name}}</td>
                      <td align="center">{{item.commitTime}}</td>
                      <td align="center" ><a style="color:green;cursor:pointer;" @click.prevent="go(item.recordId)">查看详情</a></td>
                  </tr>
                  </tbody>
              </table>
      </div>
  </template>
  <script src='js/userIndex.js'></script>
</body>

</html>